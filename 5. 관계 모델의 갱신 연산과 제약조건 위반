관계 모델의 갱신 연산과 제약조건 위반

 
관계 모델의 연산에는 크게 2가지가 있다.

- 값을 읽어 오는 Read 연산

- 데이터 베이스에 값을 변경, 추가하는 Write 연산

* 데이터 베이스의 상태는 Write를 통해 update시에만 변경된다.

 
관계에 대한 기본 갱신 연산 3가지

새로운 투플의 삽입, 기존 투플의 삭제, 기존 투플의 애트리뷰트 값을 변경하는 수정

- 갱신 연산을 실행하는 경우 스키마에 정의된 무결성 제약 조건을 위반하지 않아야 한다.

 
삽입 연산

새로운 투플 t를 삽입 시 발생하는 제약 조건 위반

도메인 제약 조건? 위반이 발생 할 수 있다.

키 제약 조건? 위반이 발생 할 수 있다. - 같은 키를 집어 넣는 경우

엔티티 무결성 제약 조건? 위반이 발생 할 수 있다.

참조 무결성 제약 조건? 위반이 발생 할 수 있다. - 새로운 튜플이 애트리뷰트 값이 존재하지 않으면서 가리킬 수 있다.

널에 대한 제약 조건? 위반이 발생 할 수 있다. 엔티티 제약 조건에 포함된다 볼 수 있다.

- 제약 조건 위반이 발생 할 경우 이는 DBMS가 사용자에게 알리고 막는다.

 
삭제 연산

특정 투플 t를 제거 시 발생하는 제약 조건 위반

도메인 제약 조건? 발생 할 수 없다. - 도메인 제약 조건이 발생함은 애트리뷰트 값이 규정된 범위를 벗어남인데 삭제에서 이는 발생 할 수 없다.

키 제약 조건? 발생 할 수 없다. - 키 값의 중복은 제거 시 발생 할 수 없다.

엔티티 무결성 제약 조건? 발생 할 수 없다.

참조 무결성 제약 조건? 위반이 발생 할 수 있다. - 삭제 시 참조 하고 있는 값이 사라져 존재하지 않는 투플을 참조하게 될 수 있다.

이에 참조 무결성 제약 조건을 위반 할 것 같을 때 취하는 3가지는

1. DBMS가 삭제를 거부한다.

2. 삭제되는 투플을 참조하는 투플까지 모두 삭제한다. (cascading)

3. 삭제된 투플을 참조하는 투플에서 외래키 값을 NULL 혹은 default로 변경한다.

이며 위반 발생 시 처리될 방안은 사용자가 정의한다.

 
수정 연산

2개의 연산을 연달아 수행함 = “ 투플의 삭제 후 삽입 ”, 이에 삭제와 삽입 시 발생 할 수 있는 문제가 동시에 나타날 수 있다.

수정 시는 크게 문제가 발생하지 않으나 기본 키나 외래키의 값이 바뀔 시 문제가 발생할 수 있다.
